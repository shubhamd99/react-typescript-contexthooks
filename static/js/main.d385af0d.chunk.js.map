{"version":3,"sources":["store/Store.tsx","components/Views/navbar.tsx","components/Counter.tsx","components/Spinner/Spinner.tsx","store/Actions.tsx","components/Views/HomePage.tsx","components/Views/FavPage.tsx","App.tsx","index.tsx"],"names":["initialState","episodes","favourites","Store","React","createContext","reducer","state","action","type","Object","objectSpread","payload","concat","toConsumableArray","NavBar","useContext","react_default","a","createElement","className","react_router_dom","to","length","Counter","_React$useReducer","useReducer","_React$useReducer2","slicedToArray","count","dispatch","onClick","Spinner","fetchData","_ref","asyncToGenerator","regenerator_default","mark","_callee","data","dataJSON","wrap","_context","prev","next","fetch","sent","json","abrupt","_embedded","stop","_x","apply","this","arguments","onAddFav","episode","addToFav","includes","dispatchObj","filter","fav","id","EpisodesList","lazy","__webpack_require__","e","then","bind","HomePage","_React$useContext","useEffect","episodeProps","store","console","log","Fragment","Suspense","fallback","components_Spinner_Spinner","FavPage","FavPage_EpisodesList","App","react_router","path","component","exact","ReactDOM","render","props","Provider","value","children","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.d385af0d.chunk.js","sourcesContent":["import React from 'react'\r\nimport { IState, IAction } from './interfaces'\r\n\r\nconst initialState: IState = {\r\n    episodes: [],\r\n    favourites: []\r\n}\r\n\r\nexport const Store = React.createContext<IState | any>(initialState)\r\n\r\nfunction reducer(state: IState, action: IAction): IState {\r\n    switch(action.type) {\r\n        case 'FETCH_DATA':\r\n            return {...state, episodes: action.payload}\r\n        case 'ADD_FAV':\r\n            return {...state, favourites: [...state.favourites, action.payload]}\r\n        case 'REMOVE_FAV':\r\n            return {...state, favourites: action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport function StoreProvider(props: JSX.ElementChildrenAttribute): JSX.Element {\r\n    const [state, dispatch] = React.useReducer(reducer, initialState)\r\n    return <Store.Provider value={{state, dispatch}}>{props.children}</Store.Provider>\r\n}","import React from 'react'\r\nimport { Store } from '../../store/Store';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function NavBar() {\r\n  const { state } = React.useContext(Store)\r\n\r\n  return (\r\n    <div className=\"navbar fixed-top navbar-light bg-light\">\r\n        <Link to=\"/\" className=\"navbar-brand\" >Home</Link>\r\n\r\n        \r\n        <Link to=\"/favourites\" className=\"btn btn-outline-secondary \">\r\n            Your Favourites: {state.favourites.length}\r\n        </Link>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Counter() {\r\n\r\n  // state = 0\r\n\r\n  const reducer = (state: number, action: string): any => {\r\n    switch(action) {\r\n        case 'ADD':\r\n            return state + 1\r\n        case 'REMOVE':\r\n            return state - 1\r\n        case 'RESET':\r\n            return state = 0\r\n        default:\r\n            return state\r\n    }  \r\n  }\r\n\r\n  const [ count, dispatch ] = React.useReducer(reducer, 0)\r\n\r\n  return (\r\n    <div className=\"mb-4 mt-5 text-center\">\r\n    <h2>{count}</h2>\r\n      <div className=\"btn-group\">\r\n          \r\n          <button onClick={() => dispatch('ADD')} className=\"btn btn-primary\">Counter +</button>\r\n          <button onClick={() => dispatch('REMOVE')} className=\"btn btn-warning\">Counter -</button>\r\n          <button onClick={() => dispatch('RESET')} className=\"btn btn-danger\">Counter reset</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nimport './Spinner.css';\r\n\r\nconst Spinner = () => (\r\n    <div className=\"loader\">Loading...</div>\r\n);\r\n\r\nexport default Spinner;","import { IAction, IEpisode, IState } from './interfaces';\r\n\r\nexport const fetchData = async (dispatch: any) => {\r\n    const URL = 'https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes'\r\n    const data = await fetch(URL);\r\n    const dataJSON = await data.json();\r\n    // console.log(dataJSON)\r\n    return dispatch({\r\n        type: 'FETCH_DATA',\r\n        payload: dataJSON._embedded.episodes\r\n    })\r\n}\r\n\r\nexport const onAddFav = (state:IState, dispatch: any, episode: IEpisode | any): IAction => {\r\n    const addToFav = state.favourites.includes(episode);\r\n\r\n    let dispatchObj = {\r\n        type: 'ADD_FAV',\r\n        payload: episode\r\n    }\r\n\r\n    if (addToFav) {\r\n        const favWithoutEpisode = state.favourites.filter((fav: IEpisode) => fav.id !== episode.id)\r\n        dispatchObj = {\r\n        type: 'REMOVE_FAV',\r\n        payload: favWithoutEpisode\r\n        }\r\n    }\r\n\r\n    return dispatch(dispatchObj)\r\n}","import React from 'react'\r\nimport { Store } from '../../store/Store';\r\nimport { IEpisodeProps } from '../../store/interfaces';\r\nimport Spinner from '../Spinner/Spinner';\r\nimport { fetchData, onAddFav } from '../../store/Actions';\r\n\r\nconst EpisodesList = React.lazy<any>(() => import('../EpisodesList'))\r\n\r\nexport default function HomePage(): JSX.Element {\r\n    const {state, dispatch} = React.useContext(Store)\r\n  \r\nReact.useEffect(() => {\r\n    state.episodes.length === 0 && fetchData(dispatch)\r\n    })\r\n\r\n\r\n    const episodeProps: IEpisodeProps = {\r\n        episodes: state.episodes,\r\n        store: {state, dispatch},\r\n        onAddFav: onAddFav,\r\n        favourites: state.favourites\r\n    }      \r\n\r\n    console.log(state)\r\n  return (\r\n    <React.Fragment>\r\n        <React.Suspense fallback={<div><Spinner /></div>}>\r\n             <EpisodesList {...episodeProps} />\r\n         </React.Suspense>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Store } from '../../store/Store';\r\nimport { IEpisodeProps } from '../../store/interfaces';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nimport { onAddFav } from '../../store/Actions';\r\n\r\nconst EpisodesList = React.lazy<any>(() => import('../EpisodesList'))\r\n\r\nexport default function FavPage(): JSX.Element {\r\n  const {state, dispatch} = React.useContext(Store)\r\n\r\n  const episodeProps: IEpisodeProps = {\r\n    episodes: state.favourites,\r\n    store: {state, dispatch},\r\n    onAddFav: onAddFav,\r\n    favourites: state.favourites\r\n}   \r\n\r\n  return (\r\n    <React.Fragment>\r\n        <React.Suspense fallback={<div><Spinner /></div>}>\r\n             <EpisodesList {...episodeProps} />\r\n         </React.Suspense>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport NavBar from './components/Views/navbar';\nimport Counter from './components/Counter';\nimport { Route, Switch } from 'react-router-dom';\nimport HomePage from './components/Views/HomePage';\nimport FavPage from './components/Views/FavPage';\n\n\nconst App: React.FC = (): JSX.Element => {\n  \n  return (\n    <div className=\"App\">\n      <NavBar />\n      <Counter />\n      <h5 >Rick and Morty Episode (API)</h5>\n      <div className=\"heading-bottom\"></div>\n      <div className=\"mt-2 d-flex flex-row flex-wrap justify-content-center \">\n      <Switch>\n        <Route path=\"/favourites\" component={FavPage} />\n        <Route path=\"/\" exact component={HomePage} />\n      </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport { StoreProvider } from './store/Store';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'tachyons';\n\nReactDOM.render(\n<StoreProvider>\n    <Router>\n        <App />\n    </Router>\n</StoreProvider>, document.getElementById('root'));\n\n\n"],"sourceRoot":""}