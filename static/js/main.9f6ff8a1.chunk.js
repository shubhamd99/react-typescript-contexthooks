(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{22:function(e,t,a){e.exports=a(40)},27:function(e,t,a){},36:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),s=a.n(c),o=a(6),u=(a(27),a(8)),l=a(21),i=a(9),m={episodes:[],favourites:[]},d=r.a.createContext(m);function f(e,t){switch(t.type){case"FETCH_DATA":return Object(i.a)({},e,{episodes:t.payload});case"ADD_FAV":return Object(i.a)({},e,{favourites:[].concat(Object(l.a)(e.favourites),[t.payload])});case"REMOVE_FAV":return Object(i.a)({},e,{favourites:t.payload});default:return e}}function p(){var e=r.a.useContext(d).state;return r.a.createElement("div",{className:"navbar fixed-top navbar-light bg-light"},r.a.createElement(o.b,{to:"/",className:"navbar-brand"},"Home"),r.a.createElement(o.b,{to:"/favourites",className:"btn btn-outline-secondary "},"Your Favourites: ",e.favourites.length))}function E(){var e=r.a.useReducer(function(e,t){switch(t){case"ADD":return e+1;case"REMOVE":return e-1;case"RESET":return 0;default:return e}},0),t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"mb-4 mt-5 text-center"},r.a.createElement("h2",null,a),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{onClick:function(){return n("ADD")},className:"btn btn-primary"},"Counter +"),r.a.createElement("button",{onClick:function(){return n("REMOVE")},className:"btn btn-warning"},"Counter -"),r.a.createElement("button",{onClick:function(){return n("RESET")},className:"btn btn-danger"},"Counter reset")))}var v=a(5),b=(a(36),function(){return r.a.createElement("div",{className:"loader"},"Loading...")}),h=a(12),y=a.n(h),g=a(20),A=function(){var e=Object(g.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes",e.next=3,fetch("https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",t({type:"FETCH_DATA",payload:n._embedded.episodes}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(e,t,a){var n=e.favourites.includes(a),r={type:"ADD_FAV",payload:a};n&&(r={type:"REMOVE_FAV",payload:e.favourites.filter(function(e){return e.id!==a.id})});return t(r)},x=r.a.lazy(function(){return a.e(0).then(a.bind(null,41))});function C(){var e=r.a.useContext(d),t=e.state,a=e.dispatch;r.a.useEffect(function(){0===t.episodes.length&&A(a)});var n={episodes:t.episodes,store:{state:t,dispatch:a},onAddFav:w,favourites:t.favourites};return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,r.a.createElement(b,null))},r.a.createElement(x,n)))}var N=r.a.lazy(function(){return a.e(0).then(a.bind(null,41))});function k(){var e=r.a.useContext(d),t=e.state,a=e.dispatch,n={episodes:t.favourites,store:{state:t,dispatch:a},onAddFav:w,favourites:t.favourites};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,r.a.createElement(b,null))},r.a.createElement(N,n)))}var F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(E,null),r.a.createElement("h5",null,"Rick and Morty Episode (API)"),r.a.createElement("div",{className:"heading-bottom"}),r.a.createElement("div",{className:"mt-2 d-flex flex-row flex-wrap justify-content-center "},r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/favourites",component:k}),r.a.createElement(v.a,{path:"/",exact:!0,component:C}))))};a(38),a(39);s.a.render(r.a.createElement(function(e){var t=r.a.useReducer(f,m),a=Object(u.a)(t,2),n=a[0],c=a[1];return r.a.createElement(d.Provider,{value:{state:n,dispatch:c}},e.children)},null,r.a.createElement(o.a,null,r.a.createElement(F,null))),document.getElementById("root"))}},[[22,2,3]]]);
//# sourceMappingURL=main.9f6ff8a1.chunk.js.map